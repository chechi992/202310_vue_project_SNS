<script setup>
import { useRouter } from "vue-router"
const router = useRouter()

import { ref } from "vue"

import { getAuth, signInWithEmailAndPassword } from "firebase/auth"

//Firebaseサービス初期化

//登録のアカウトデータ
const userInfo = ref({
  email: "",
  pwd: ""
})

const pushToOtherPage = (pageName) => {
  router.push({ name: pageName })
}

const SignIn = () => {
  const auth = getAuth()
  signInWithEmailAndPassword(auth, userInfo.value.email, userInfo.value.pwd)
    .then((data) => {
      console.log("successfully Signin", auth.currentUser, data)
      pushToOtherPage("UserSettingPage")
    })
    .catch((error) => {
      console.error("Login Fail: ", error.code, error.message)
      // Display an error message to the user
    })
}

const toRegisterView = async () => {
  pushToOtherPage("RegisterPage")
}

/* export default {
  name: "LoginPage",
  mounted: function () {
    console.log(this.$route.params)
  },
  methods: {
    toHome: function () {
      this.$router.push({
        name: "HomePage",
        params: { user: "taro", age: 33 }
      })
    },
    toRegisterView: function () {
      this.$router.push({
        name: "RegisterPage"
      })
    }
  }
} */